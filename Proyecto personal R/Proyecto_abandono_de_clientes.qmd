---
title: ""
lag: es
format: 
  pdf:
    documentclass: article
    fontsize: 12pt
    linestretch: 1.5
    geometry: "margin=1in"
    number-sections: false
    colorlinks: true
    linkcolor: blue
    citecolor: blue
    urlcolor: blue
    filecolor: blue
mainfont: Times New Roman
monofont: Courier New
editor: visual
editor_options: 
  chunk_output_type: console

execute:
  echo: false       # Muestra el c칩digo en los chunks
  warning: false   # Oculta advertencias
  message: false   # Oculta mensajes (ej. de librer칤as)
  eval: true       # Ejecuta los chunks
  cache: true 
---

\thispagestyle{empty}
\vspace*{\fill}
\begin{center}
{\scshape\huge {Modelo Predictivo de Abandono de Clientes en el Sector de Telecomunicaciones usando Machine Learning en R}  \par\vspace{2cm}}
{\itshape\Large Trabajo Personal \par}
\vfill
{\Large Autor: \par}
{\large Juan Gabriel Carvajal Negrete \par\vspace{2cm}}
\vfill
\end{center}
\vspace*{\fill}

\newpage

```{r}
#| echo: false
#| warning: false
#| message: false

# Paquetes a usar 
require(magrittr)  # pip
require(tidyverse) # Manipulaci칩n de datos 
require(ggplot2)   # Gr치ficos 
require(psych)     # tablas (headtail)
library(stargazer) # c칩digo l치tex de las tablas 
require(xtable)    # c칩digo l치tex de las tablas 
```

# Informaci칩n basica de la base de datos

### Contexto de la base de datos

Predecir el comportamiento para fidelizar a los clientes. Puede analizar todos los datos relevantes de los clientes y desarrollar programas de fidelizaci칩n espec칤ficos. [Conjuntos de datos de muestra de IBM].Cada fila representa un cliente, cada columna contiene los atributos del cliente descritos en la columna Metadatos.

```{r}
#| echo: false
datos <- read.csv("WA_Fn-UseC_-Telco-Customer-Churn.csv", header = TRUE, sep = ",")
```


La base de datos cuenta con **`r dim(datos)`** filas y columnas respectivamente,los nombres de las variables de la base de datos son **`r names(datos)`**, el conjunto de datos incluye informaci칩n sobre:

\- Clientes que se fueron en el 칰ltimo mes: la columna se llama **Churn** (Variable objetivo)\newline
\- Servicios a los que se ha suscrito cada cliente: tel칠fono, l칤neas m칰ltiples, Internet, seguridad en l칤nea, copia de seguridad en l칤nea, protecci칩n de dispositivos, soporte t칠cnico y transmisi칩n de TV y pel칤culas.\newline
\- Informaci칩n de la cuenta del cliente: cu치nto tiempo ha sido cliente, contrato, m칠todo de pago, facturaci칩n electr칩nica, cargos mensuales y cargos totales\newline
\- Informaci칩n demogr치fica sobre los clientes: g칠nero, rango de edad y si tienen parejas y dependientes.

Estas son algunas observaciones b치sicas de la base de datos ahora continuaremos e iremos mas afondo con nuestro datos, mostrando que tan completas est치n nuestras variables y la importancia que tendr치 cada una de ellas en nuestros futuros modelos.

[La base de datos la puedes encontrar dando click aqu칤](https://www.kaggle.com/datasets/blastchar/telco-customer-churn?resource=download) 
\newpage

# Descripci칩n General y Estad칤sticas Iniciales de la Base de Datos

```{r}
#| output: false

resumen1 <- data.frame(variables = names(datos),
completos = apply(!is.na(datos),2,sum)) %>% 
  mutate(porcentaje_completo = round(completos/nrow(datos)*100,2))

rownames(resumen1) <- NULL

resumen1 <- resumen1[c("variables","porcentaje_completo")]

```

\begin{table}[ht]
\centering
\caption{Porcentaje de completitud de las variables}
\begin{tabular}{|c|l|c|}
\hline
\textbf{N춿} & \textbf{Variable} & \textbf{Porcentaje Completo (\%)} \\
\hline
1  & customerID        & 100.00 \\
2  & gender            & 100.00 \\
3  & SeniorCitizen     & 100.00 \\
4  & Partner           & 100.00 \\
5  & Dependents        & 100.00 \\
6  & tenure            & 100.00 \\
7  & PhoneService      & 100.00 \\
8  & MultipleLines     & 100.00 \\
9  & InternetService   & 100.00 \\
10 & OnlineSecurity    & 100.00 \\
11 & OnlineBackup      & 100.00 \\
12 & DeviceProtection  & 100.00 \\
13 & TechSupport       & 100.00 \\
14 & StreamingTV       & 100.00 \\
15 & StreamingMovies   & 100.00 \\
16 & Contract          & 100.00 \\
17 & PaperlessBilling  & 100.00 \\
18 & PaymentMethod     & 100.00 \\
19 & MonthlyCharges    & 100.00 \\
20 & TotalCharges      &  99.84 \\
21 & Churn             & 100.00 \\
\hline
\end{tabular}
\end{table}

```{r}
# 游댳 Gr치fica de % de completitud por variable
ggplot(resumen1, aes(x = reorder(variables, porcentaje_completo), 
                    y = porcentaje_completo)) +
  geom_col(fill = "steelblue") +
  coord_flip() +
  labs(title = "Completitud de la base de datos",
       x = "Variable",
       y = "% de valores completos") +
  theme_minimal()+
    theme(
    plot.title = element_text(hjust = 0.5),   # centra el t칤tulo
    axis.title.x = element_text(hjust = 0.5), # centra t칤tulo eje X
    axis.title.y = element_text(hjust = 0.5)  # centra t칤tulo eje Y
  )
```

\newpage 

De acuerdo con la tabla y el gr치fico presentados, la base de datos refleja un alto nivel de completitud, con un porcentaje m칤nimo de valores faltantes. Esta condici칩n es favorable, ya que garantiza una mayor confiabilidad en los resultados posteriores y disminuye la necesidad de aplicar t칠cnicas de imputaci칩n o eliminaci칩n de observaciones.

Con esta base s칩lida, es posible avanzar hacia el an치lisis exploratorio de cada una de las variables, lo cual permitir치 detectar posibles anomal칤as, patrones inusuales o inconsistencias en los registros. Asimismo, resulta fundamental revisar que el tipo de dato asignado a cada variable corresponda efectivamente con su naturaleza, asegurando que la base se encuentre correctamente estructurada para el modelado y el an치lisis estad칤stico posterior.
